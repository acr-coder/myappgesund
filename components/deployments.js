import React, { useState, useEffect } from "react";

import Image from 'next/dist/client/image'
import Head from 'next/head'
import DonutChart from "react-donut-chart";
import good from '../assets/good.svg'
import risk from '../assets/risk.svg'
import question from '../assets/question.svg'
import up from '../assets/up.svg'
import dots from '../assets/dots.svg'
import fail from '../assets/fail.svg'

const Deployments = ({props}) => {
    

  const [serviceHealthSummary, setServiceHealthSummary] = useState({
    passing: 7,
    atRisk: 1,
    failing: 1,
  });
  const [dataDriftSummary, setDataDriftSummary] = useState({
    passing: 7,
    atRisk: 1,
    failing: 1,
  });
  const [accuracySummary, setAccuracySummary] = useState({
    passing: 7,
    atRisk: 1,
    failing: 1,
  });

  const [ loading, setLoading ] = useState(true)

    
  return (
      
    <div className="container">
        <Head>
        <title>Gesund | Deployments</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />

      </Head>
      <div className="d-flex justify-content-between align-items-center">
        <h2>Deployments</h2>
        <button type="button" className="add-dep">
          Add Deployment
        </button>
      </div>

      <div className="row row-cols-1 row-cols-sm-2 row-cols-md-5 g-3 ">
      <div className="col">
          <div className="card shadow-sm">
            <div className="card-body"  style={{ marginBottom: "8px" }}>
              <h5 className="title">Active Deployments</h5>
              <h1>
                {props.user.deployment ? props.user.deployment : 0}
              </h1>
              <h5 className="sub" >0 inactive</h5>
            </div>
          </div>
        </div>
        <div className="col">
          <div className="card shadow-sm">
            <div className="card-body">
              <h5 className="title">Active Deployments</h5>
              <h1>
                {props.user.activedeployments ? props.user.activedeployments : 0} <sup>(-3.4%)</sup>
              </h1>
              <h5 className="sub" >Last 7 days: <span style={{color:"#fff"}} >64 new</span> <Image src={up} alt="up" /></h5>
            </div>
          </div>
        </div>
        <div className="col">
          <div className="card shadow-sm">
            <div className="card-body" >
              <h5 className="title">Service Health Summary</h5>
              <div style={{ display: "flex" }}>
                <DonutChart
                  height={80}
                  width={80}
                  startAngle={270}
                  legend={false}
                  colors={["#1ABC9C", "#FFB806", "#F24C42"]}
                  data={[
                    {
                      label: `${props.user.shspassing ? props.user.shspassing : 0} Passing `,
                      value: props.user.shspassing ? props.user.shspassing : 0,
                      color: "#9c27b0",
                    },
                    {
                      label: "At Risk",
                      value: props.user.shsatrisk ? props.user.shsatrisk : 0,
                    },
                    {
                      label: "Failing",
                      value: props.user.shsfailing ? props.user.shsfailing : 0,
                    },
                  ]}
                />
                <div className="chart-label">
                  <div className="label-box">
                    <div className="label-point-passing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.shspassing ? props.user.shspassing : 0} Passing`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-atrisk"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.shsatrisk ? props.user.shsatrisk : 0} At Risk`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-failing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.shsfailing ? props.user.shsfailing : 0} Failing`}</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div className="col">
          <div className="card shadow-sm">
            <div className="card-body" >
              <h5 className="title">Data Drift Summary</h5>
              <div style={{ display: "flex" }}>
                <DonutChart
                  height={80}
                  width={80}
                  startAngle={270}
                  legend={false}
                  colors={["#1ABC9C", "#FFB806", "#F24C42"]}
                  data={[
                    {
                      label: `${props.user.ddspassing ? props.user.ddspassing : 0} Passing `,
                      value: props.user.ddspassing ? props.user.ddspassing : 0,
                      color: "#9c27b0",
                    },
                    {
                      label: "At Risk",
                      value: props.user.ddsatrisk ? props.user.ddsatrisk : 0,
                    },
                    {
                      label: "Failing",
                      value: props.user.ddsfailing ? props.user.ddsfailing : 0,
                    },
                  ]}
                />
                <div className="chart-label">
                  <div className="label-box">
                    <div className="label-point-passing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.ddspassing ? props.user.ddspassing : 0} Passing`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-atrisk"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.ddsatrisk ? props.user.ddsatrisk : 0} At Risk`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-failing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.ddsfailing ? props.user.ddsfailing : 0} Failing`}</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div className="col">
          <div className="card shadow-sm">
            <div className="card-body">
              <h5 className="title">Accuracy Summary</h5>
              <div style={{ display: "flex" }}>
                <DonutChart
                  height={80}
                  width={80}
                  startAngle={270}
                  legend={false}
                  colors={["#1ABC9C", "#FFB806", "#F24C42"]}
                  data={[
                    {
                      label: `${props.user.aspassing ? props.user.aspassing : 0} Passing `,
                      value: props.user.aspassing ? props.user.aspassing : 0,
                      color: "#9c27b0",
                    },
                    {
                      label: "At Risk",
                      value: props.user.asatrisk ? props.user.asatrisk : 0,
                    },
                    {
                      label: "Failing",
                      value: props.user.asfailing ? props.user.asfailing : 0,
                    },
                  ]}
                />
                <div className="chart-label">
                  <div className="label-box">
                    <div className="label-point-passing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.aspassing ? props.user.aspassing : 0} Passing`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-atrisk"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.asatrisk ? props.user.asatrisk : 0} At Risk`}</h5>
                  </div>
                  <div className="label-box">
                    <div className="label-point-failing"></div>
                    <h5
                      style={{ color: "white" }}
                    >{`${props.user.asfailing ? props.user.asfailing : 0} Failing`}</h5>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <table className="table table-borderless mt-5">
  <thead>
    <tr>
    <th scope="col" >Deployment Name</th>
              <th scope="col" >Service</th>
              <th scope="col" >Drift</th>
              <th scope="col" >Accurancy</th>
              <th scope="col" >Activity</th>
              <th scope="col" >Avg. Prediction/Day</th>
              <th scope="col" >Last Prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      
      <td className="dep">ss2019retrain r_dam mono <br /> <span>DataRobot Prediction Server | ss_r_dam_train_20200 ...</span> </td>
      <td className="dep good" > <Image src={good} alt="good" /> </td>
      <td className="dep good" > <Image src={risk} alt="risk" /> </td>
      <td className="dep good" > <Image src={question} alt="question" /> </td>
      <td className="dep ac" >
        <div className="activity">
          <div className="first"></div>
          <div className="second"></div>
          <div className="third"></div>
          <div className="fourth"></div>
          <div className="fifth"></div>
          <div className="sixth"></div>
          <div className="seventh"></div>
          <div className="eighth"></div>
          
        </div>
      </td>
      <td className="dep avg" > <p>54K</p></td>
      <td className="dep" style={{display:'flex', justifyContent:'space-between'}} >
        <div>
        <p>31 new <Image src={up} alt="up" /></p>
        <p className="sub">a few seconds ago</p>
        </div>
        <Image src={dots} alt="dots" />
      </td>
      
    </tr>
    <tr>
      
      <td className="dep">ss2019retrain r_dam mono <br /> <span>DataRobot Prediction Server | ss_r_dam_train_20200 ...</span> </td>
      <td className="dep good" > <Image src={good} alt="good" /> </td>
      <td className="dep good" > <Image src={good} alt="risk" /> </td>
      <td className="dep good" > <Image src={good} alt="question" /> </td>
      <td className="dep ac" >
        <div className="activity">
          <div className="first"></div>
          <div className="second"></div>
          <div className="third"></div>
          <div className="fourth"></div>
          <div className="fifth"></div>
          <div className="sixth"></div>
          <div className="seventh"></div>
          <div className="eighth"></div>
          
        </div>
      </td>
      <td className="dep avg" > <p>54K</p></td>
      <td className="dep" style={{display:'flex', justifyContent:'space-between'}} >
        <div>
        <p>31 new <Image src={up} alt="up" /></p>
        <p className="sub">a few seconds ago</p>
        </div>
        <Image src={dots} alt="dots" />
      </td>
      
    </tr>
    <tr>
      
      <td className="dep">ss2019retrain r_dam mono <br /> <span>DataRobot Prediction Server | ss_r_dam_train_20200 ...</span> </td>
      <td className="dep good" > <Image src={good} alt="good" /> </td>
      <td className="dep good" > <Image src={good} alt="risk" /> </td>
      <td className="dep good" > <Image src={good} alt="question" /> </td>
      <td className="dep ac" >
        <div className="activity">
          <div className="first"></div>
          <div className="second"></div>
          <div className="third"></div>
          <div className="fourth"></div>
          <div className="fifth"></div>
          <div className="sixth"></div>
          <div className="seventh"></div>
          <div className="eighth"></div>
          
        </div>
      </td>
      <td className="dep avg" > <p>54K</p></td>
      <td className="dep" style={{display:'flex', justifyContent:'space-between'}} >
        <div>
        <p>31 new <Image src={up} alt="up" /></p>
        <p className="sub">a few seconds ago</p>
        </div>
        <Image src={dots} alt="dots" />
      </td>
      
    </tr>
    <tr>
      
      <td className="dep">ss2019retrain r_dam mono <br /> <span>DataRobot Prediction Server | ss_r_dam_train_20200 ...</span> </td>
      <td className="dep good" > <Image src={good} alt="good" /> </td>
      <td className="dep good" > <Image src={good} alt="risk" /> </td>
      <td className="dep good" > <Image src={good} alt="question" /> </td>
      <td className="dep ac" >
        <div className="activity">
          <div className="first"></div>
          <div className="second"></div>
          <div className="third"></div>
          <div className="fourth"></div>
          <div className="fifth"></div>
          <div className="sixth"></div>
          <div className="seventh"></div>
          <div className="eighth"></div>
          
        </div>
      </td>
      <td className="dep avg" > <p>54K</p></td>
      <td className="dep" style={{display:'flex', justifyContent:'space-between'}} >
        <div>
        <p>31 new <Image src={up} alt="up" /></p>
        <p className="sub">a few seconds ago</p>
        </div>
        <Image src={dots} alt="dots" />
      </td>
      
    </tr>
    <tr>
      
      <td className="dep">ss2019retrain r_dam mono <br /> <span>DataRobot Prediction Server | ss_r_dam_train_20200 ...</span> </td>
      <td className="dep good" > <Image  src={fail} alt="fail" /> </td>
      <td className="dep good" > <Image  src={risk} alt="risk" /> </td>
      <td className="dep good" > <Image  src={good} alt="question" /> </td>
      <td className="dep ac" >
        <div className="activity">
          <div className="first"></div>
          <div className="second"></div>
          <div className="third"></div>
          <div className="fourth"></div>
          <div className="fifth"></div>
          <div className="sixth"></div>
          <div className="seventh"></div>
          <div className="eighth"></div>
          
        </div>
      </td>
      <td className="dep avg" > <p>54K</p></td>
      <td className="dep" style={{display:'flex', justifyContent:'space-between'}} >
        <div>
        <p>31 new <Image src={up} alt="up" /></p>
        <p className="sub">a few seconds ago</p>
        </div>
        <Image src={dots} alt="dots" />
      </td>
      
    </tr>
  </tbody>
</table>
      
    </div>
  );
};

export default Deployments
